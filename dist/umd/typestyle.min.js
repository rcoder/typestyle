!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.typestyle=t():e.typestyle=t()}(window,(function(){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var s=t[r]={i:r,l:!1,exports:{}};return e[r].call(s.exports,s,s.exports,n),s.l=!0,s.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var s in e)n.d(r,s,function(t){return e[t]}.bind(null,s));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=1)}([function(e,t,n){"use strict";function r(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var n={},s=0,i=e;s<i.length;s++){var o=i[s];if(null!=o&&!1!==o)for(var a in o){var c=o[a];(c||0===c)&&("$nest"===a&&c?n[a]=n.$nest?r(n.$nest,c):c:-1!==a.indexOf("&")||0===a.indexOf("@media")?n[a]=n[a]?r(n[a],c):c:n[a]=c)}}return n}Object.defineProperty(t,"__esModule",{value:!0}),t.raf="undefined"==typeof requestAnimationFrame?function(e){return setTimeout(e)}:"undefined"==typeof window?requestAnimationFrame:requestAnimationFrame.bind(window),t.classes=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return e.map((function(e){return e&&"object"==typeof e?Object.keys(e).map((function(t){return!!e[t]&&t})):[e]})).reduce((function(e,t){return e.concat(t)}),[]).filter((function(e){return!!e})).join(" ")},t.extend=r,t.media=function(e){for(var t,n=[],i=1;i<arguments.length;i++)n[i-1]=arguments[i];var o=[];e.type&&o.push(e.type),e.orientation&&o.push("(orientation: "+e.orientation+")"),e.minWidth&&o.push("(min-width: "+s(e.minWidth)+")"),e.maxWidth&&o.push("(max-width: "+s(e.maxWidth)+")"),e.minHeight&&o.push("(min-height: "+s(e.minHeight)+")"),e.maxHeight&&o.push("(max-height: "+s(e.maxHeight)+")");var a="@media "+o.join(" and "),c={$nest:(t={},t[a]=r.apply(void 0,n),t)};return c};var s=function(e){return"string"==typeof e?e:e+"px"}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(2);t.TypeStyle=r.TypeStyle;var s=n(5);t.types=s;var i=n(0);t.extend=i.extend,t.classes=i.classes,t.media=i.media;var o=new r.TypeStyle({autoGenerateTag:!0});t.setStylesTarget=o.setStylesTarget,t.cssRaw=o.cssRaw,t.cssRule=o.cssRule,t.forceRenderStyles=o.forceRenderStyles,t.fontFace=o.fontFace,t.getStyles=o.getStyles,t.keyframes=o.keyframes,t.reinit=o.reinit,t.style=o.style,t.stylesheet=o.stylesheet,t.createTypeStyle=function(e){var t=new r.TypeStyle({autoGenerateTag:!1});return e&&t.setStylesTarget(e),t}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(3),s=n(4),i=n(0),o=function(){return r.create()},a=function(){function e(e){var t=this,n=e.autoGenerateTag;this.cssRaw=function(e){e&&(t._raw+=e||"",t._pendingRawChange=!0,t._styleUpdated())},this.cssRule=function(e){for(var n,r=[],o=1;o<arguments.length;o++)r[o-1]=arguments[o];var a=s.convertToStyles(i.extend.apply(void 0,r));t._freeStyle.registerStyle(((n={$global:!0})[e]=a,n)),t._styleUpdated()},this.forceRenderStyles=function(){var e=t._getTag();e&&(e.textContent=t.getStyles())},this.fontFace=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];for(var r=t._freeStyle,s=0,i=e;s<i.length;s++){var o=i[s];r.registerStyle({$global:!0,"@font-face":o})}t._styleUpdated()},this.getStyles=function(){return(t._raw||"")+t._freeStyle.getStyles()},this.keyframes=function(e){var n=s.convertToKeyframes(e),r=t._freeStyle.registerStyle({$global:!0,"@keyframes &":n});return t._styleUpdated(),r},this.reinit=function(){var e=o();t._freeStyle=e,t._lastFreeStyleChangeId=e.changeId,t._raw="",t._pendingRawChange=!1;var n=t._getTag();n&&(n.textContent="")},this.setStylesTarget=function(e){t._tag&&(t._tag.textContent=""),t._tag=e,t.forceRenderStyles()},this.stylesheet=function(e){for(var n={},r=0,s=Object.getOwnPropertyNames(e);r<s.length;r++){var i=s[r],o=e[i];o&&(o.$debugName=i,n[i]=t.style(o))}return n};var r=o();this._autoGenerateTag=n,this._freeStyle=r,this._lastFreeStyleChangeId=r.changeId,this._pending=0,this._pendingRawChange=!1,this._raw="",this._tag=void 0,this.style=this.style.bind(this)}return e.prototype._afterAllSync=function(e){var t=this;this._pending++;var n=this._pending;i.raf((function(){n===t._pending&&e()}))},e.prototype._getTag=function(){if(this._tag)return this._tag;if(this._autoGenerateTag){var e="undefined"==typeof window?{textContent:""}:document.createElement("style");return"undefined"!=typeof document&&document.head.appendChild(e),this._tag=e,e}},e.prototype._styleUpdated=function(){var e=this,t=this._freeStyle.changeId,n=this._lastFreeStyleChangeId;(this._pendingRawChange||t!==n)&&(this._lastFreeStyleChangeId=t,this._pendingRawChange=!1,this._afterAllSync((function(){return e.forceRenderStyles()})))},e.prototype.style=function(){var e=this._freeStyle.registerStyle(s.convertToStyles(i.extend.apply(void 0,arguments)));return this._styleUpdated(),e},e}();t.TypeStyle=a},function(e,t,n){"use strict";n.r(t),n.d(t,"Cache",(function(){return h})),n.d(t,"Selector",(function(){return f})),n.d(t,"Style",(function(){return d})),n.d(t,"Rule",(function(){return y})),n.d(t,"FreeStyle",(function(){return g})),n.d(t,"create",(function(){return p}));let r=0;const s=Object.create(null),i=["animation-iteration-count","border-image-outset","border-image-slice","border-image-width","box-flex","box-flex-group","box-ordinal-group","column-count","columns","counter-increment","counter-reset","flex","flex-grow","flex-positive","flex-shrink","flex-negative","flex-order","font-weight","grid-area","grid-column","grid-column-end","grid-column-span","grid-column-start","grid-row","grid-row-end","grid-row-span","grid-row-start","line-clamp","line-height","opacity","order","orphans","tab-size","widows","z-index","zoom","fill-opacity","flood-opacity","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-miterlimit","stroke-opacity","stroke-width"];for(const e of i)for(const t of["-webkit-","-ms-","-moz-","-o-",""])s[t+e]=!0;function o(e,t){return e.replace(/&/g,t)}function a(e,t){return`${e}:${t}${"number"==typeof t&&t&&!s[e]?"px":""}`}function c(e){return e.sort((e,t)=>e[0]>t[0]?1:-1)}function u(e,t,n,r,s){const i=[],l=[];for(const e of Object.keys(r)){const t=r[e];36!==e.charCodeAt(0)&&null!=t&&("object"!=typeof t||Array.isArray(t)?i.push([(h=e,h.replace(/[A-Z]/g,e=>"-"+e.toLowerCase()).replace(/^ms-/,"-ms-")),t]):l.push([e,t]))}var h;const f=!!r.$unique,d=r.$global?"":s,y=d?l:c(l),g=function(e){return e.map(([e,t])=>Array.isArray(t)?t.map(t=>a(e,t)).join(";"):a(e,t)).join(";")}(c(i));let p=g;if(64===n.charCodeAt(0)){const t=[],r=[];d&&g&&r.push({selector:d,style:g,isUnique:f});for(const[e,n]of y)p+=`|${e}#${u(t,r,e,n,d)}`;e.push({selector:n,rules:t,styles:r,style:d?"":g})}else{const r=d?function(e,t){return e?e.includes("&")?o(e,t):`${t} ${e}`:t}(n,d):n;g&&t.push({selector:r,style:g,isUnique:f});for(const[n,s]of y)p+=`|${n}#${u(e,t,n,s,r)}`}return p}function l(e){let t="";for(let n=0;n<e.length;n++)t+=e[n];return t}class h{constructor(e){this.changes=e,this.sheet=[],this.changeId=0,this._keys=[],this._children=Object.create(null),this._counters=Object.create(null)}add(e){const t=e.id,n=this._counters[t]||0,r=this._children[t]||e.clone();if(this._counters[t]=n+1,0===n)this._children[t]=r,this._keys.push(t),this.sheet.push(r.getStyles()),this.changeId++,this.changes&&this.changes.add(r,this._keys.length-1);else if(r instanceof h&&e instanceof h){const n=r.changeId;if(r.merge(e),r.changeId!==n){const e=this._keys.indexOf(t);this.sheet.splice(e,1,r.getStyles()),this.changeId++,this.changes&&this.changes.change(r,e,e)}}}remove(e){const t=e.id,n=this._counters[t];if(n){this._counters[t]=n-1;const r=this._children[t],s=this._keys.indexOf(t);if(1===n)delete this._counters[t],delete this._children[t],this._keys.splice(s,1),this.sheet.splice(s,1),this.changeId++,this.changes&&this.changes.remove(r,s);else if(r instanceof h&&e instanceof h){const t=r.changeId;r.unmerge(e),r.changeId!==t&&(this.sheet.splice(s,1,r.getStyles()),this.changeId++,this.changes&&this.changes.change(r,s,s))}}}values(){return this._keys.map(e=>this._children[e])}merge(e){for(const t of e.values())this.add(t);return this}unmerge(e){for(const t of e.values())this.remove(t);return this}clone(){return(new h).merge(this)}}class f{constructor(e){this.selector=e}get id(){return"k:"+this.selector}getStyles(){return this.selector}clone(){return this}}class d extends h{constructor(e,t){super(),this.style=e,this.pid=t}get id(){return`s:${this.pid}:${this.style}`}getStyles(){return`${this.sheet.join(",")}{${this.style}}`}clone(){return new d(this.style,this.pid).merge(this)}}class y extends h{constructor(e,t,n){super(),this.rule=e,this.style=t,this.pid=n}get id(){return`r:${this.pid}:${this.rule}:${this.style}`}getStyles(){return`${this.rule}{${this.style}${l(this.sheet)}}`}clone(){return new y(this.rule,this.style,this.pid).merge(this)}}class g extends h{constructor(e,t){super(t),this.id=e}registerStyle(e){const t=[],n=[],s="f"+function(e){let t=5381,n=e.length;for(;n--;)t=33*t^e.charCodeAt(n);return(t>>>0).toString(36)}(u(t,n,"",e,".&"));return function e(t,n,s,i,a){for(const{selector:e,style:n,isUnique:c}of s){const s=o(e,a),u=new d(n,c?(++r).toString(36):i);u.add(new f(s)),t.add(u)}for(const{selector:r,style:s,rules:c,styles:u}of n){const n=o(r,a),l=new y(n,s,i);e(l,c,u,i,a),t.add(l)}}(this,t,n,s,s),s}getStyles(){return l(this.sheet)}clone(){return new g(this.id,this.changes).merge(this)}}function p(e){return new g("f"+(++r).toString(36),e)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.convertToStyles=function e(t){var n={};for(var r in t){var s=t[r];if("$nest"===r){var i=s;for(var o in i){var a=i[o];n[o]=e(a)}}else"$debugName"===r?n.$displayName=s:n[r]=s}return n},t.convertToKeyframes=function(e){var t={};for(var n in e)"$debugName"!==n&&(t[n]=e[n]);return e.$debugName&&(t.$displayName=e.$debugName),t}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0})}])}));